/*
设置cookie
@objYear 时间，单位年
Writrer:白晓旭 2012/7/12
*/function SetCookie(a,b,c){a=a+"\x3d"+escape(b)+"; domain\x3d.damai.cn";0<c&&(b=new Date,c*=31536E6,b.setTime(b.getTime()+c),a+="; expires\x3d"+b.toGMTString());document.cookie=a}function GetCookie(a){a=document.cookie.match(new RegExp("(^| )"+a+"\x3d([^;]*)(;|$)"));return null!=a?a[2]:null}function GetProjectPic(a,b){switch(b){case 1:return"//pimg.damai.cn/perform/project/"+parseInt(eval(a/100))+"/"+a+"_n_109_144.jpg";case 2:return"//pimg.damai.cn/perform/project/"+parseInt(eval(a/100))+"/"+a+".jpg";case 3:return"//pimg.damai.cn/perform/project/"+parseInt(eval(a/100))+"/"+a+"_n_171_214.jpg";case 4:return"//pimg.damai.cn/perform/project/"+parseInt(eval(a/100))+"/"+a+"_n.jpg";case 5:return"//pimg.damai.cn/perform/project/"+parseInt(eval(a/100))+"/"+a+"_n1.jpg";default:return""}}function GetPasswordStren(a){if(""==a)return 0;var b=0,c=a.length;if(6>c)return 1;6<=c&&8>=c&&(b+=10);8<c&&(b+=20);IsHasDigit(a)&&(b+=10);IsHasLower(a)&&(b+=10);IsHasUpper(a)&&(b+=10);IsHasSymbol(a)&&(b+=10);return 30>=b?1:30<b&&50>=b?2:3}var IsHasDigit=function(a){for(var b=0;b<a.length;b++)if(0<="0123456789".indexOf(a.charAt(b)))return!0;return!1},IsHasLower=function(a){for(var b=/^[a-z]+$/,c=0;c<a.length;c++)if(b.test(a.charAt(c)))return!0;return!1},IsHasUpper=function(a){for(var b=/^[A-Z]+$/,c=0;c<a.length;c++)if(b.test(a.charAt(c)))return!0;return!1},IsHasSymbol=function(a){for(var b=/^[a-zA-Z0-9]+$/,c=0;c<a.length;c++)if(!b.test(a.charAt(c)))return!0;return!1};Array.prototype.delRepeat=function(){for(var a=[],b={},c=0,d;null!=(d=this[c]);c++)b[d]||(a.push(d),b[d]=!0);return a};Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":0==this.getHours()%12?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},c={0:"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));/(E+)/.test(a)&&(a=a.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"\u661f\u671f":"\u5468":"")+c[this.getDay()+""]));for(var d in b)(new RegExp("("+d+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[d]:("00"+b[d]).substr((""+b[d]).length)));return a};String.format=function(){if(0==arguments.length)return null;for(var a=arguments[0],b=1;b<arguments.length;b++)a=a.replace(new RegExp("\\{"+(b-1)+"\\}","gm"),arguments[b]);return a};String.prototype.format=function(){var a=arguments;return this.replace(/\{(\d+)\}/g,function(b,c){return a[c]})};String.prototype.cutScope=function(a){return this.length>a?this.substr(0,a)+"...":this};String.prototype.toDate=function(){return dateObj=new Date(parseInt(this.replace("/Date(","").replace(")/","")))};String.prototype.strLen=function(){for(var a=0,b=0;b<this.length;b++)255<this.charCodeAt(b)||0>this.charCodeAt(b)?a+=2:a++;return a};String.prototype.strToChars=function(){for(var a=[],b=0;b<this.length;b++)a[b]=[this.substr(b,1),this.isCHS(b)];return String.prototype.charsArray=a};String.prototype.isCHS=function(a){return 255<this.charCodeAt(a)||0>this.charCodeAt(a)?!0:!1};String.prototype.subCHString=function(a,b){var c=0,d="";this.strToChars();for(var e=0;e<this.length;e++)if(this.charsArray[e][1]?c+=2:c++,b<c){e<=this.length&&(d+="...");break}else a<c&&(d+=this.charsArray[e][0]);return d};String.prototype.subCHStr=function(a,b){return this.subCHString(a,a+b)};var LengthLimit=function(a,b,c){var d=$.trim(a.val());""!=d&&void 0!=d&&d.length>b&&(""!=c&&alert(c),a.val(d.substring(0,b)))};String.prototype.cutHtml=function(){if(null==this)return"";var a;a=this.replace(/<script.*?>(.|\n)*<\/script>/gi);a=a.replace(/<.+?>/g,"");a=a.replace(/\s+/g," ");a=a.replace(/<br>/gi,"\n\r");a=a.replace(/<\/br>/gi,"\n\r");a=a.replace(/<p>/gi,"\n\r");a=a.replace(/<\/p>/gi,"\n\r");a=a.replace(/<p( )*\/>/gi,"\n\r");a=a.replace(/<br( )*\/>/gi,"\n\r");a=a.replace(/<[^>]+?>/g," ");a=a.replace(/\n[\s| ]*\r/gi,"\n\r");a=a.replace(/( ){2,}/g," ");a=a.replace(/(^\s*)|(\s*$)/g,"");a=a.replace(/\n\r( )*/g,"\n\r");return a=a.replace(/( )*\n\r/g,"\n\r")};var RndNum=function(a){for(var b="",c=0;c<a;c++)b+=Math.floor(10*Math.random());return b},getXMLByID=function(a,b){$.ajax({url:"/view/language/errormessage.xml",dataType:"xml",type:"GET",timeout:2E3,error:function(a){alert("\u52a0\u8f7dXML \u6587\u4ef6\u51fa\u9519\uff01")},success:function(c){var d;$(c).find("itme").each(function(c){$(this).attr("id")==a&&(d=$(this).children(b).text())});return d}})},GetPasswordStrenLg=function(a){if(""==a)return 0;a=checkStrength(a);return 20>=a?1:30<a&&40>=a?2:3},REG={WORD_LOWER:/[a-z]+/,WORD_UPPER:/[A-Z]+/,NUMBER:/[0-9]+/,CHAR:/[^a-z,^0-9,^A-Z]+/};function checkStrength(a){var b=0;7<=a.length&&8>=a.length&&(b+=10);9<=a.length&&(b+=20);if(a.match(REG.WORD_LOWER)||a.match(REG.WORD_UPPER))b+=10;a.match(REG.WORD_LOWER)&&a.match(REG.WORD_UPPER)&&(b+=10);a.match(REG.NUMBER)&&(b+=10);a.match(REG.CHAR)&&(b+=10);return b};